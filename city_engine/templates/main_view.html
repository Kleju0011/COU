{% extends 'base_city.html' %}
{% load staticfiles %}

{% block script %}
{% endblock %}

{% block title %}Miasto {{ city.name }}{% endblock %}

{% block content %}

{% if request.user.is_authenticated %}
    <h1>Witaj, {{ request.user.username }}!</h1>
    <h1><a href="{% url 'player:logout' %}">Wyloguj</a></h1>
                    {% else %}
    <h1><a href="{% url 'player:login' %}">Zaloguj</a></h1>
    {% endif %}

<h1>Miasto: {{ city.name }}</h1>
<h1>Pieniądze: {{ city.cash }}</h1>
<h1>Energia: {{ energy }}</h1>
<h1>Koszty utrzymania {{ total_cost_of_maintenance }}</h1>
<h1>{{ profile.current_turn }}/12</h1>
{% if profile.current_turn <= 11 %}
    <button><a href="{% url 'city_engine:turn_calculations' %}">Kolejna tura</a></button>
{% endif %}

{% if buildings %}
<h1>Lista budynków</h1>
<table>
    <thead>
        <tr>
            <th>Nazwa</th>
        </tr>
    </thead>
    <tbody>
    {% for name in buildings %}
        <tr>
            <th>{{ name }}</th>
        </tr>
    {% endfor %}
    </tbody>
</table>
{% endif %}

{% if buildings_under_construction %}
<h1>Lista budynków w budowie</h1>
<table>
    <thead>
        <tr>
            <th>Budowa</th>
            <th>Czas</th>
        </tr>
    </thead>
    <tbody>
    {% for name, start, end in buildings_under_construction %}
        <tr>
            <th>{{ name }}</th>
            <th>{{ start }}/{{ end }}</th>
        </tr>
    {% endfor %}
    </tbody>
</table>
{% endif %}

<button class="hex-change">Zmień hexy</button>

<button class="buildingToHide">Budynki elektryczne</button>
<div class="buildingsToBuild">
    <button class="setBuilding" name="WindPlant">Elektrownia wiatrowa</button>
    <button class="setBuilding" name="RopePlant">Elektrownia na ropę</button>
    <button class="setBuilding" name="CoalPlant">Elektrownia na węgiel</button>
</div>


<div id="board">
    <h1>Plansza wygenerowana z Djagno</h1>
    {{ hex_table }}
</div>


<div id="hexInfoBox">
    <h1>Podgląd hexa</h1>
    {{ hex_detail_info_table }}
</div>

{% endblock %}

{% block jsScript %}
    <script src="{% static 'js/hex_events.js' %}"></script>
{% endblock %}